This directory used to contain two files: `flag_gen.template.c`, and `generate_flag_gen_c.py`. If you wish to embed flags in binaries, you should rewrite these files according to the below specification.

The idea is that for some binary exploitation challenges, you'll need to give the participant a binary executable which contains the flag in some way. You can't just do `printf("flag{...}")`, or else this would be clearly visible in the binary itself and nobody would need to actually do the challenge. So instead, we put some code between the flag given to us by the platform server and the code which prints the flag.

The mechanism we use essentially consists of a random seed for a LFSR which is used to generate a key-stream, this seed and the derived key stream bytes are inserted into a C file when the challenge is compiled. Each byte of the flag is XORed with a keystream byte by the preprocessor, so neither the flag byte or key byte is actually included in the binary. The LFSR then recreates the keystream at runtime and uses it to decrypt the flag. There is also additional code to obfuscate the process and generally make it not worth reverse engineering. Obviously this relies on the exact implemention being kept a secret from participants, so you'll need to write your own. I might add an example template in here at some point if I feel nice.

The specific implementation of this algorithm has been removed from the repository so it can be open-sourced. The mechanism relies on the exact source code of the flag-printing code to be kept secret. However, if you're on the CyberSoc or NUHack committees, you can see and use our original implementation in the private repo at https://github.com/NUHack-Newcastle/ctf-platform-flag-gen-c.
